{"version":3,"sources":["services/fetchMovies.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/Movies/index.js","pages/MoviesPage/index.js"],"names":["myKey","baseURL","fetchTrendingMovies","axios","get","fetchSerchMovie","searchQuery","fetchMovieDetails","id","fetchCastDetails","fetchReviewsDetail","_toConsumableArray","arr","Array","isArray","i","arr2","length","iter","Symbol","iterator","Object","prototype","toString","call","from","TypeError","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","withRouter","onSubmit","onChange","movies","location","useLocation","type","map","el","to","pathname","state","title","MoviesPage","useState","searchValue","setSearchValue","searchMovies","setSearchMovies","history","useHistory","useEffect","URLSearchParams","search","API","then","data","results","e","preventDefault"],"mappings":"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","file":"static/js/moviesPage.151a8b61.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst myKey = '?api_key=94fb68635853dc276658cb1ea38dd975';\n\nconst baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchTrendingMovies = () => {\n  return axios.get(`${baseURL}/trending/movie/day${myKey}`);\n};\n\nexport const fetchSerchMovie = searchQuery => {\n  return axios.get(`${baseURL}/search/movie${myKey}&query=${searchQuery}`);\n};\n\nexport const fetchMovieDetails = id => {\n  return axios.get(`${baseURL}/movie/${id}${myKey}`);\n};\n\nexport const fetchCastDetails = id => {\n  return axios.get(`${baseURL}/movie/${id}/credits${myKey}`);\n};\n\nexport const fetchReviewsDetail = id => {\n  return axios.get(`${baseURL}/movie/${id}/reviews${myKey}`);\n};\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter, useLocation } from 'react-router-dom';\n\nconst Movies = ({ onSubmit, value, onChange, movies }) => {\n  const location = useLocation();\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input type=\"text\" value={value} onChange={onChange} />\n        <button type=\"submit\">search movie</button>\n      </form>\n      {movies && (\n        <ul>\n          {movies.map(el => (\n            <li key={el.id}>\n              <Link\n                to={{\n                  pathname: `/movie/${el.id}`,\n                  state: { from: { ...location } },\n                }}\n              >\n                {el.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\n\nMovies.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default withRouter(Movies);\n","import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Movies from '../../components/Movies';\nimport * as API from '../../services/fetchMovies';\n\nconst MoviesPage = () => {\n  const [searchValue, setSearchValue] = useState('');\n  const [searchMovies, setSearchMovies] = useState([]);\n  const history = useHistory();\n  const location = useLocation();\n\n  const handleChange = ({ target }) => {\n    setSearchValue(target.value);\n  };\n\n  const submitValue = e => {\n    e.preventDefault();\n\n    history.push(`?query=${searchValue}`);\n    setSearchValue('');\n  };\n\n  useEffect(() => {\n    const searchQuery = new URLSearchParams(location.search).get('query');\n    if (searchQuery) {\n      API.fetchSerchMovie(searchQuery).then(({ data }) =>\n        setSearchMovies([...data.results]),\n      );\n    }\n  }, [location]);\n\n  return (\n    <Movies\n      onSubmit={submitValue}\n      value={searchValue}\n      onChange={handleChange}\n      movies={searchMovies}\n    />\n  );\n};\n\nexport default MoviesPage;\n"],"sourceRoot":""}